<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: esb | nuts!]]></title>
  <link href="http://chamilad.github.io/blog/categories/esb/atom.xml" rel="self"/>
  <link href="http://chamilad.github.io/"/>
  <updated>2014-07-07T13:46:49+05:30</updated>
  <id>http://chamilad.github.io/</id>
  <author>
    <name><![CDATA[chamila de alwis]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[WSO2 ESB Sample Screw Ups]]></title>
    <link href="http://chamilad.github.io/blog/2014/07/07/wso2-esb-sample-screw-ups/"/>
    <updated>2014-07-07T12:26:35+05:30</updated>
    <id>http://chamilad.github.io/blog/2014/07/07/wso2-esb-sample-screw-ups</id>
    <content type="html"><![CDATA[<p>We all know the feeling when we follow every instruction of a sample page to the letter and the results turn out to be a total <del>clusterf..</del> disaster.</p>

<p>Well, let me try to easy some of the pain by listing the following probable fixes and workarounds for the 100-odd samples of the renowned <a href="http://wso2.com/products/enterprise-service-bus/">WSO2 Enterprise Service Bus</a>.</p>

<blockquote><p>Keep in mind that this post will keep getting updated till I go through every sample.</p></blockquote>

<h1>Sample 57</h1>

<p>TODO</p>

<h1>Sample 60, 61, 62</h1>

<p>TODO</p>

<h1>Sample 152</h1>

<p>You would probably get an error while trying to execute the client like the following.</p>

<p>```
[2014-07-07 13:28:09,060] ERROR &ndash; ServerWorker Error processing POST request
java.lang.NullPointerException: Tenant domain has not been set in CarbonContext</p>

<pre><code>at org.wso2.carbon.caching.impl.CacheManagerFactoryImpl.getCacheManager(CacheManagerFactoryImpl.java:79)
at org.wso2.carbon.security.pox.POXSecurityHandler.getPOXCache(POXSecurityHandler.java:383)
at org.wso2.carbon.security.pox.POXSecurityHandler.invoke(POXSecurityHandler.java:179)
at org.apache.axis2.engine.Phase.invokeHandler(Phase.java:340)
at org.apache.axis2.engine.Phase.invoke(Phase.java:313)
at org.apache.axis2.engine.AxisEngine.invoke(AxisEngine.java:261)
at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:167)
at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:172)
at org.apache.synapse.transport.nhttp.ServerWorker.processEntityEnclosingMethod(ServerWorker.java:459)
at org.apache.synapse.transport.nhttp.ServerWorker.run(ServerWorker.java:279)
at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:722)
</code></pre>

<p>```</p>

<p>While I can&rsquo;t exactly pinpoint the cause of the error this happens due to the way we execute the samples. If you directly executed the sample #152 chances are that you wouldn&rsquo;t come across this. But if you started with a sample before #101 you&rsquo;d probably get this.</p>

<p>At sample #101 you have to enable the NHTTP configuration for Carbon. Non-Blocking HTTP is required to enable WS-ReliableMessaging so that the source can call the Web Service destination asynchronously.</p>

<p>You are instructed to enable NHTTP configuration by editing the <code>carbon.xml</code> file in <code>&lt;ESB_HOME&gt;/repository/conf/</code>.</p>

<p>```xml carbon.xml start:253</p>

<!-- You are instructed to comment this line and enable the next one to enable NHTTP -->


<p><ConfigurationFile>${carbon.home}/repository/conf/axis2/axis2.xml</ConfigurationFile>                                                                                                                         <br/>
<ConfigurationFile>${carbon.home}/repository/conf/axis2/axis2_nhttp.xml</ConfigurationFile>
```</p>

<p>To make the sample #152 run properly revert this change.</p>
]]></content>
  </entry>
  
</feed>
